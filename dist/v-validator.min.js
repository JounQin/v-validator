!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.VValidator=r()}(this,function(){"use strict";function t(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){return[].slice.call({}.toString.call(t),8,-1).join("")},e=function(t){return function(r){return t===n(r)}},i=e("Array"),o=e("Function"),u=function(t){return null!=t&&"object"===("undefined"==typeof t?"undefined":r(t))},l=function(t){return!1},a=function(t){return!1},f=function(t){return function(r,n){return s(t).call(this,r,n),!!r&&r.length===t}},c=function(t){return function(r){return!!r&&r.length>=t}},s=function(t){return function(r,n){if(!r)return!1;var e=r.length<=t;return!e&&n&&(this[n]=this[n].toString().substr(0,t)),e}},y=function(t){return function(r,n){return s(11).call(this,r,n),!!t===/^1[35789]\d{9}$/.test(r)}},d=Object.freeze({length:f,minLength:c,maxLength:s,mobile:y}),v=function(){function t(t,r){var n=[],e=!0,i=!1,o=void 0;try{for(var u,l=t[Symbol.iterator]();!(e=(u=l.next()).done)&&(n.push(u.value),!r||n.length!==r);e=!0);}catch(t){i=!0,o=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(r,n){var e=this[r],u={},l=!0,f=!1,c=void 0;try{for(var s,y=Object.entries(n)[Symbol.iterator]();!(l=(s=y.next()).done);l=!0){var h=v(s.value,2),b=h[0],$=h[1];if(o($))u[b]=$.call(this,e);else{var m=d[b];o(m)?($=i($)?$:[$],u[b]=m.apply(void 0,t($)).call(this,e,r)):a("there is no validator named "+b+", it will be ignored!")}}}catch(t){f=!0,c=t}finally{try{!l&&y.return&&y.return()}finally{if(f)throw c}}var p=this.$v[r];Object.assign(p,u),p.$invalid=Object.values(u).some(function(t){return!t}),p.$error=p.$dirty&&p.$invalid},b=!1,$=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b)return t.util.warn("do not try to install plugin v-validator twice!");b=!0,l("plugin v-validator is installed!"),Object.assign(d,r.validators);var n=t.util.defineReactive;t.mixin({beforeCreate:function(){var r=this,e=this.$options.validator;if(e){o(e)&&(e=e.call(this)),e.rules||(e={rules:e});var i=e.rules,l=!!e.auto;if(!u(i))return a("rules of validator should be an object");n(this,"$v",{});var f=!0,c=!1,s=void 0;try{for(var y,d=function(){var e=v(y.value,2),i=e[0],o=e[1];n(r.$v,i,{$dirty:l,$error:!1,$invalid:!1});var u=r.$v[i];Object.assign(u,{$touch:function(){u.$dirty||(u.$dirty=!0,h.call(r,i,o))},$reset:function(){u.$dirty&&(u.$dirty=!1,h.call(r,i,o))}}),t.nextTick(function(){r.$watch(i,function(){l&&(u.$dirty=!0),h.call(r,i,o)}),u[l?"$touch":"$reset"]()})},b=Object.entries(i)[Symbol.iterator]();!(f=(y=b.next()).done);f=!0)d()}catch(t){c=!0,s=t}finally{try{!f&&b.return&&b.return()}finally{if(c)throw s}}}}})};return $});
